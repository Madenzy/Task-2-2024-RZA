{% extends "base.html" %}
{% block head %}Account Settings{% endblock %}

{% block body %}
<style>
.account-settings-wrapper {
    max-width: 640px;
    margin: 40px auto 60px;
    padding: 0 20px;
    font-family: Arial, sans-serif;
}

.settings-card {
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
    padding: 24px 28px;
    margin-bottom: 22px;
}

.settings-card h1 {
    margin: 0 0 6px;
    color: #1f2933;
}

.settings-card p {
    margin: 0;
    color: #4a5568;
    font-size: 0.95rem;
}

.settings-card h2 {
    margin-top: 0;
    color: #1f2933;
}

.settings-form {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 14px;
}

.settings-form label {
    font-size: 0.85rem;
    color: #4a5568;
}

.settings-form input[type="password"],
.settings-form input[type="text"] {
    border: 1px solid #cbd5e0;
    border-radius: 8px;
    padding: 10px 12px;
    font-size: 0.95rem;
}

.settings-form button {
    width: fit-content;
    background: #3182ce;
    color: #ffffff;
    border: none;
    border-radius: 8px;
    padding: 10px 16px;
    font-size: 0.95rem;
    cursor: pointer;
    margin-top: 6px;
}

.settings-form button.delete {
    background: #e53e3e;
}

.settings-form button:hover {
    opacity: 0.9;
}

.security-link {
    margin-top: 12px;
    font-size: 0.9rem;
}

      #home,
      
      #courses,
     
      #login,
      #register,
      
      #assignments,
      #progress,
      #student-dashboard,
      #teacher-dashboard,
    #parent-dashboard,
    #admin-dashboard {
        display: none;
      }
<style>
    #courses,
    #login,
    #home,
    #assignments,
    #teacher-dashboard,
    #parent-dashboard,
    #admin-dashboard{
        display: none;
    }
  </style>
</style>

<div class="account-settings-wrapper">
    <div class="settings-card">
        <h1>Account Settings</h1>
        <p>Update your password, manage account access, or remove your {{ user_type|capitalize }} profile.</p>
    </div>

    <div class="settings-card">
        <h2>Change Password</h2>
        <form class="settings-form" method="post" action="{{ url_for('change_password') }}">
            <input type="hidden" name="redirect_to" value="{{ redirect_target }}">
            <label for="current_password">Current Password</label>
            <input type="password" id="current_password" name="current_password" required>
            <label for="new_password">New Password</label>
            <input type="password" id="new_password" name="new_password" required>
            <label for="confirm_password">Confirm New Password</label>
            <input type="password" id="confirm_password" name="confirm_password" required>
            <button type="submit">Change Password</button>
        </form>
        <p class="security-link">Maintain recovery options by managing <a href="{{ url_for('security_questions') }}">security questions</a>.</p>
    </div>

    <div class="settings-card">
        <h2>Delete Account</h2>
        <p>This action permanently deletes your {{ user_type|capitalize }} account along with related data.</p>
        <form class="settings-form" method="post" action="{{ url_for('delete_account') }}" onsubmit="return confirm('This will permanently delete your {{ user_type|capitalize }} account. Continue?');">
            <input type="hidden" name="redirect_to" value="{{ redirect_target }}">
            <label for="delete_current_password">Current Password</label>
            <input type="password" id="delete_current_password" name="current_password" required>
            <label for="confirm_text">Type DELETE to confirm</label>
            <input type="text" id="confirm_text" name="confirm_text" placeholder="DELETE" required>
            <button type="submit" class="delete">Delete Account</button>
        </form>
    </div>
</div>
{% endblock %}
